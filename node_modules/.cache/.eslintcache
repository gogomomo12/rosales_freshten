[{"C:\\xampp\\htdocs\\rosales_freshten\\src\\index.js":"1","C:\\xampp\\htdocs\\rosales_freshten\\src\\App.js":"2","C:\\xampp\\htdocs\\rosales_freshten\\src\\components\\EditUser.js":"3","C:\\xampp\\htdocs\\rosales_freshten\\src\\components\\ListUser.js":"4","C:\\xampp\\htdocs\\rosales_freshten\\src\\components\\CreateUser.js":"5","C:\\xampp\\htdocs\\rosales_freshten\\src\\components\\Login.js":"6","C:\\xampp\\htdocs\\rosales_freshten\\src\\components\\CreateAccessLevel.js":"7"},{"size":230,"mtime":1711024496612,"results":"8","hashOfConfig":"9"},{"size":995,"mtime":1711048855139,"results":"10","hashOfConfig":"9"},{"size":43893,"mtime":1711056834736,"results":"11","hashOfConfig":"9"},{"size":4346,"mtime":1711055073531,"results":"12","hashOfConfig":"9"},{"size":42829,"mtime":1711056696551,"results":"13","hashOfConfig":"9"},{"size":2555,"mtime":1711053805532,"results":"14","hashOfConfig":"9"},{"size":40159,"mtime":1711056718660,"results":"15","hashOfConfig":"9"},{"filePath":"16","messages":"17","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"18"},"xbsg58",{"filePath":"19","messages":"20","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"21"},{"filePath":"22","messages":"23","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"24","messages":"25","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"26"},{"filePath":"27","messages":"28","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"29","messages":"30","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"31","messages":"32","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"C:\\xampp\\htdocs\\rosales_freshten\\src\\index.js",[],["33","34"],"C:\\xampp\\htdocs\\rosales_freshten\\src\\App.js",["35"],"import { BrowserRouter, Routes, Route, Link } from 'react-router-dom';\r\nimport './App.css';\r\nimport CreateUser from './components/CreateUser';\r\nimport CreateAccessLevel from './components/CreateAccessLevel';\r\nimport EditUser from './components/EditUser';\r\nimport ListUser from './components/ListUser';\r\nimport Login from './components/Login'; // Import the Login component\r\n\r\nfunction App() {\r\n  return (\r\n    <div className=\"App\">\r\n      <h5>React CRUD operations using PHP API and MySQL</h5>\r\n\r\n      <BrowserRouter>\r\n        <Routes>\r\n          <Route index element={<Login />} /> {/* Set Login as the index route */}\r\n          <Route path=\"list\" element={<ListUser />} />\r\n          <Route path=\"list/user/create\" element={<CreateUser />} />\r\n          <Route path=\"list/user/create-access-level\" element={<CreateAccessLevel />} />\r\n          <Route path=\"list/user/:id/edit\" element={<EditUser />} />\r\n        </Routes>\r\n      </BrowserRouter>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","C:\\xampp\\htdocs\\rosales_freshten\\src\\components\\EditUser.js",["36"],"C:\\xampp\\htdocs\\rosales_freshten\\src\\components\\ListUser.js",["37"],"import React, { useEffect, useState } from 'react';\r\nimport { useLocation } from 'react-router-dom';\r\nimport { Link } from \"react-router-dom\";\r\nimport axios from 'axios';\r\nimport './ListUser.css'; // Import custom styles for ListUser page\r\n\r\nfunction ListUser() {\r\n  const [users, setUsers] = useState([]);\r\n  const [accessLevels, setAccessLevels] = useState([]);\r\n  const [loggedInUserEmail, setLoggedInUserEmail] = useState('');\r\n  const [loggedInUserAccessLevel, setLoggedInUserAccessLevel] = useState('');\r\n  const location = useLocation();\r\n\r\n  useEffect(() => {\r\n    getUsers();\r\n    getAccessLevels();\r\n    setLoggedInUserInfo();\r\n  }, []);\r\n\r\n  function getUsers() {\r\n    axios.get('http://localhost/rosales_freshten/api/employees/').then(function(response) {\r\n      setUsers(response.data);\r\n    });\r\n  }\r\n\r\n  function getAccessLevels() {\r\n    axios.get('http://localhost/rosales_freshten/api/access_levels/').then(function(response) {\r\n      setAccessLevels(response.data);\r\n    });\r\n  }\r\n\r\n  const setLoggedInUserInfo = () => {\r\n    const params = new URLSearchParams(location.search);\r\n    setLoggedInUserEmail(params.get('email'));\r\n    setLoggedInUserAccessLevel(params.get('access_level'));\r\n  }\r\n\r\n  const deleteUser = (id) => {\r\n    if (loggedInUserAccessLevel === 'Super User' && users.find(user => user.employee_id === id)?.access_level_id !== 1) {\r\n      axios.delete(`http://localhost/rosales_freshten/api/user/${id}/delete`).then(function(response){\r\n        getUsers();\r\n      }).catch(error => {\r\n        console.error('Error deleting user: ', error);\r\n      });\r\n    } else {\r\n      alert('You are not authorized to delete this user.');\r\n    }\r\n  }\r\n\r\n  const getAccessLevelDescription = (accessLevelId) => {\r\n    const accessLevel = accessLevels.find(level => level.access_level_id === accessLevelId);\r\n    return accessLevel ? accessLevel.description : 'Unknown';\r\n  }\r\n\r\n  const isNormalUser = loggedInUserAccessLevel === 'Normal User';\r\n\r\n  const actionsAvailable = users.some(user => {\r\n    return loggedInUserAccessLevel === 'Super User' && user.access_level_id !== 1;\r\n  });\r\n\r\n  return (\r\n    <div className=\"list-user-container\">\r\n      <h1>List Users</h1>\r\n      <div className=\"user-info\">\r\n        <p>Email: {loggedInUserEmail}</p>\r\n        <p>Access Level Description: {loggedInUserAccessLevel}</p>\r\n        <div className=\"action-links\">\r\n          <Link to=\"/list/user/create\" className=\"action-link\">Create User</Link>\r\n          {!isNormalUser && (\r\n            <Link to=\"/list/user/create-access-level\" className=\"action-link\">Manage Access Levels</Link>\r\n          )}\r\n        </div>\r\n      </div>\r\n      <table className=\"user-table\">\r\n        <thead>\r\n          <tr>\r\n            <th>Employee ID</th>\r\n            <th>First Name</th>\r\n            <th>Last Name</th>\r\n            <th>Age</th>\r\n            <th>Birth Date</th>\r\n            <th>Email</th>\r\n            <th>Password</th>\r\n            <th>Date Created</th>\r\n            <th>Job Title</th>\r\n            <th>Access Level Description</th>\r\n            <th>Date Modified</th>\r\n            {actionsAvailable && <th>Actions</th>}\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          {users.map((user, key) =>\r\n            <tr key={key}>\r\n              <td>{user.employee_id}</td>\r\n              <td>{user.firstname}</td>\r\n              <td>{user.lastname}</td>\r\n              <td>{user.age}</td>\r\n              <td>{user.birth_date}</td>\r\n              <td>{user.email}</td>\r\n              <td>{user.password}</td>\r\n              <td>{user.date_created}</td>\r\n              <td>{user.job_title}</td>\r\n              <td>{getAccessLevelDescription(user.access_level_id)}</td>\r\n              <td>{user.date_modified}</td>\r\n              {actionsAvailable && (\r\n                <td className=\"action-cell\">\r\n                  {loggedInUserAccessLevel === 'Super User' && user.access_level_id !== 1 ? (\r\n                    <>\r\n                      <Link to={`user/${user.employee_id}/edit`} className=\"action-link\">Edit</Link>\r\n  <button className=\"action-button\" onClick={() => deleteUser(user.employee_id)}>Delete</button>\r\n                    </>\r\n                  ) : null}\r\n                </td>\r\n              )}\r\n            </tr>\r\n          )}\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ListUser;\r\n","C:\\xampp\\htdocs\\rosales_freshten\\src\\components\\CreateUser.js",[],"C:\\xampp\\htdocs\\rosales_freshten\\src\\components\\Login.js",[],"C:\\xampp\\htdocs\\rosales_freshten\\src\\components\\CreateAccessLevel.js",[],{"ruleId":"38","replacedBy":"39"},{"ruleId":"40","replacedBy":"41"},{"ruleId":"42","severity":1,"message":"43","line":1,"column":40,"nodeType":"44","messageId":"45","endLine":1,"endColumn":44},{"ruleId":"46","severity":1,"message":"47","line":23,"column":8,"nodeType":"48","endLine":23,"endColumn":10,"suggestions":"49"},{"ruleId":"46","severity":1,"message":"50","line":18,"column":6,"nodeType":"48","endLine":18,"endColumn":8,"suggestions":"51"},"no-native-reassign",["52"],"no-negated-in-lhs",["53"],"no-unused-vars","'Link' is defined but never used.","Identifier","unusedVar","react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'getUser'. Either include it or remove the dependency array.","ArrayExpression",["54"],"React Hook useEffect has a missing dependency: 'setLoggedInUserInfo'. Either include it or remove the dependency array.",["55"],"no-global-assign","no-unsafe-negation",{"desc":"56","fix":"57"},{"desc":"58","fix":"59"},"Update the dependencies array to be: [getUser]",{"range":"60","text":"61"},"Update the dependencies array to be: [setLoggedInUserInfo]",{"range":"62","text":"63"},[605,607],"[getUser]",[643,645],"[setLoggedInUserInfo]"]